<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>最短路径</title>
</head>
<body>
<script type="text/javascript">
  /*Dijkstra算法--单源最短路*/
  ;(function(){
    var map = [[undefined,undefined,undefined,undefined,undefined,undefined,undefined],
               [undefined,0,1,12,81,81,81],
               [undefined,81,0,9,3,81,81],
               [undefined,81,81,0,81,5,81],
               [undefined,81,81,4,0,13,15],
               [undefined,81,81,81,81,0,4],
               [undefined,81,81,81,81,81,0]
            ],
      book = [undefined,undefined,undefined,undefined,undefined,undefined,undefined],
      /*存储源点到顶点的最短距离*/
      dis = [undefined,0,1,12,81,81,81],
      q = [2,3,4,5,6],
      /*当前顶点*/
      cur;

    while(q.length) {
      cur = q[0];
      /*找出dis中距离源点最短的顶点*/
      for (var i = cur; i <= 6; i++) {
      	if (dis[i + 1] < dis[ i ]) {
      	  if (book[i + 1] == undefined) {
      	    cur = i + 1;
      	  }
      	}
      }
      book[cur] = 1;
      /*q集合删除已经遍历过的顶点*/
      q.splice(q.indexOf(cur), 1);

      /*找出边，计算路程*/
      for (var j = 0 ; j < q.length; j++) {
      	var t = q[j];
      	if(map[cur][t] < 81 && map[cur][t] > 0 ) {
      	  /*当前顶点到源点的距离+ 顶点到下一个点的距离 = 源点到下一个点的距离*/
      	  var dist = dis[cur] + map[cur][t]
      	  if ( dist < dis[t] || dis[t] == 81) {
      	  	dis[t] = dist
      	  }
      	}
      }
    }
    
    console.log(dis)
  })()
</script>
</body>
</html>